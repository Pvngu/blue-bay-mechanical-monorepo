---
interface Props {
  size?: 'small' | 'medium' | 'large';
  variant?: 'primary' | 'secondary' | 'outline' | 'link';
  disabled?: boolean;
  type?: 'button' | 'submit' | 'reset';
  href?: string;
  block?: boolean;
  class?: string;
  id?: string;
}

const { 
  size = 'medium', 
  variant = 'primary', 
  disabled = false, 
  type = 'button',
  href,
  block = false,
  class: className = '',
  id,
  ...rest 
} = Astro.props;

const sizeClasses = {
  small: 'px-3 py-1.5 text-sm',
  medium: 'px-4 py-2 text-base',
  large: 'px-6 py-3 text-lg'
};

const variantClasses = {
  primary: 'bg-primary hover:bg-primary-dark text-white',
  secondary: 'bg-secondary hover:bg-secondary-dark text-white',
  outline: 'border-2 border-primary text-primary hover:bg-primary hover:text-white',
  link: 'bg-transparent text-primary underline hover:text-primary-dark px-0 py-0 border-none'
};

const baseClasses = 'font-medium cursor-pointer rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed';

const blockClass = block ? 'w-full' : 'w-fit';

const buttonClasses = [
  baseClasses,
  sizeClasses[size],
  variantClasses[variant],
  blockClass,
  className
].join(' ');
---

{href ? (
  <a
    href={href}
    id={id}
    class={buttonClasses}
    aria-disabled={disabled ? 'true' : undefined}
    tabindex={disabled ? -1 : undefined}
    {...rest}
  >
    <slot />
  </a>
) : (
  <button
    type={type}
    id={id}
    disabled={disabled}
    class={buttonClasses}
    {...rest}
  >
    <slot />
  </button>
)}
